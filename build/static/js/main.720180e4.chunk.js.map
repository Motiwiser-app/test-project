{"version":3,"sources":["components/layouts/items-carousel/placeholder-img.jpeg","components/listings/listings-list/placeholder-img.jpeg","components/layouts/search/bg8v2_small.jpg","serviceWorker.js","reducers/session.js","reducers/user.js","reducers/listing.js","reducers/locales.js","reducers/index.js","store/index.js","components/layouts/locale-switcher/locale-switcher.js","components/firebase/context.js","components/firebase/firebase.js","components/firebase/index.js","components/sign-out/sign-out.js","routes/routes.js","utils/roles.js","components/layouts/navigation/navigation.js","components/layouts/footer/footer.js","components/layouts/search/search.js","components/layouts/items-carousel/items-carousel.js","components/landing/landing.js","components/layouts/search-filter/search-filter.js","components/listings/listings-list/listings-list.js","components/layouts/make-offer-box/make-offer-box.js","components/listing-item/listing-item.js","components/listings/listings.js","components/session/withAuthentication.js","components/session/withAuthorization.js","components/session/withEmailVerification.js","components/layouts/image-upload/image-upload.js","components/add-new-listing/add-new-listing.js","components/sign-up/sign-up.js","components/password-forget/password-forget.js","components/sign-in/sign-in.js","components/home/home.js","components/password-change/password-change.js","components/account/account.js","components/admin/users/user-list.js","components/admin/users/user-item.js","components/admin/admin.js","components/app/app.js","index.js"],"names":["module","exports","Boolean","window","location","hostname","match","INITIAL_STATE","authUser","applySetAuthUser","state","action","sessionReducer","type","users","applySetUsers","applySetUser","uid","user","userReducer","listings","limit","applySetListings","applySetListingsLimit","applySetListing","listing","listingReducer","UPDATE_LOCALES","defaultLocale","intl","locale","messages","et_translations","rootReducer","combineReducers","sessionState","userState","listingState","intlReducer","locales","payload","store","createStore","LocaleSwitcher","connect","currentLocale","value","onChange","e","dispatch","updateIntl","target","Object","keys","map","key","FirebaseContext","React","createContext","withFirebase","Component","props","Consumer","firebase","app","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSendEmailVerification","currentUser","sendEmailVerification","url","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","updatePassword","doSignInWithGoogle","signInWithPopup","googleProvider","doSignOut","signOut","onAuthUserListener","next","fallback","onAuthStateChanged","get","then","snapshot","dbUser","data","roles","emailVerified","providerData","db","doc","collection","this","firestore","emailAuthProvider","EmailAuthProvider","GoogleAuthProvider","Button","variant","onClick","HOME","ADMIN","NavigationAuth","Navbar","fixed","expand","bg","Container","className","to","Brand","id","defaultMessage","description","Toggle","Collapse","Nav","Link","ROUTES","ROLES","NavigationNonAuth","Footer","sticky","Search","Card","Img","src","require","ImgOverlay","Tabs","defaultActiveKey","Tab","eventKey","title","Form","Row","Col","sm","md","Dropdown","Menu","Item","href","Control","placeholder","ItemsCarousel","loading","setState","unsubscribe","onSnapshot","forEach","push","settings","dots","infinite","speed","slidesToShow","slidesToScroll","initialSlide","swipeToSlide","responsive","breakpoint","Carousel","interval","fade","alt","Caption","Body","Badge","pill","Title","Text","compose","onSetListings","LandingPage","Range","createSliderWithTooltip","Slider","Rangeslider","min","max","defaultValue","allowCross","style","float","SearchFilter","Accordion","as","Header","Check","label","disabled","ButtonToolbar","ToggleButtonGroup","ToggleButton","ListingsList","length","name","end_date","MakeOfferBox","Group","controlId","Label","size","block","Jumbotron","fluid","ListingItem","params","onSetListing","icon","work_start_date","work_end_date","color","exact","path","component","withAuthentication","WithAuthentication","onSetAuthUser","JSON","parse","localStorage","getItem","listener","setItem","stringify","removeItem","withAuthorization","condition","WithAuthorization","history","withRouter","withEmailVerification","WithEmailVerification","onSendEmailVerification","isSent","provider","providerId","includes","ImageUpload","handleChange","files","image","handleUpload","storage","userUid","ref","put","on","progress","Math","round","bytesTransferred","totalBytes","error","console","log","child","getDownloadURL","height","width","AddNewListingPage","updateInput","addListing","preventDefault","timestampsInSnapshots","add","categories","date_created","date_modified","start_date","owner_id","owner_name","owner_pic_url","onSubmit","for","username","passwordOne","passwordTwo","isAdmin","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","event","set","merge","catch","code","message","onChangeCheckbox","checked","isInvalid","SignUpLink","SignUpForm","SignUpPage","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","SignInGoogleBase","socialAuthUser","displayName","photoUrl","photoURL","SignInForm","SignInGoogle","SignInPage","PasswordChangeForm","SIGN_IN_METHODS","LoginManagementBase","fetchSignInMethods","fetchSignInMethodsForEmail","activeSignInMethods","onSocialLoginLink","linkWithPopup","onUnlink","unlink","onDefaultLoginLink","credential","linkAndRetrieveDataWithCredential","signInMethod","onlyOneLeft","isEnabled","onLink","SocialLoginToggle","DefaultLoginToggle","LoginManagement","UserList","onSetUsers","UserItem","onSendPasswordResetEmail","onSetUser","library","fab","fas","far","handleLoadlLocales","et","en","en_translations","ru","ru_translations","Listings","HomePage","AccountPage","AdminPage","ReactDOM","render","Provider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.720180e4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/placeholder-img.63f5500d.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/placeholder-img.63f5500d.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/bg8v2_small.0af3dc06.jpg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const INITIAL_STATE = {\n    authUser: null,\n};\n\nconst applySetAuthUser = (state, action) => ({\n    ...state,\n    authUser: action.authUser,\n});\n\nfunction sessionReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case 'AUTH_USER_SET': {\n            return applySetAuthUser(state, action);\n        }\n        default:\n        return state;\n    }\n}\n\n\nexport default sessionReducer;","const INITIAL_STATE = {\n    users: null,\n};\n\nconst applySetUsers = (state, action) => ({\n    ...state,\n    users: action.users,\n});\n\nconst applySetUser = (state, action) => ({\n    ...state,\n    users: {\n        ...state.users,\n        [action.uid]: action.user,\n    },\n});\n\nfunction userReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case 'USERS_SET': {\n            return applySetUsers(state, action);\n        }\n        case 'USER_SET': {\n            return applySetUser(state, action);\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport default userReducer;","const INITIAL_STATE = {\n    listings: null,\n    limit: 5,\n};\n\nconst applySetListings = (state, action) => ({\n    ...state,\n    listings: action.listings,\n});\n\nconst applySetListingsLimit = (state, action) => ({\n    ...state,\n    limit: action.limit,\n});\n\nconst applySetListing = (state, action) => ({\n    ...state,\n    listings: {\n        ...state.listings,\n        [action.uid]: action.listing,\n    },\n});\n\nfunction listingReducer(state = INITIAL_STATE, action) {\n    switch (action.type) {\n        case 'LISTINGS_SET': {\n            return applySetListings(state, action);\n        }\n        case 'LISTINGS_LIMIT_SET': {\n            return applySetListingsLimit(state, action);\n        }\n        case 'LISTING_SET': {\n            return applySetListing(state, action);\n        }\n        default:\n            return state;\n    }\n}\n\n\nexport default listingReducer;","import et_translations from '../assets/translations/et.json';\n\nconst UPDATE_LOCALES = 'UPDATE_LOCALES'\n\nconst defaultLocale = {\n  intl: {\n      defaultLocale: 'et',\n      locale: 'et',\n      messages: et_translations,\n  },\n}\n\nfunction localesReducer(state = {}, action) {\n  switch (action.type) {\n    case UPDATE_LOCALES:\n      return {\n        ...state,\n        ...action.payload,\n      }\n    default:\n      return state\n  }\n}\n\n\nexport { localesReducer, defaultLocale };","import { combineReducers } from 'redux';\nimport sessionReducer from './session';\nimport userReducer from './user';\nimport listingReducer from './listing';\nimport { intlReducer } from 'react-intl-redux'\nimport { localesReducer, defaultLocale } from './locales';\n\n\nconst rootReducer = combineReducers({\n    sessionState: sessionReducer,\n    userState: userReducer,\n    listingState: listingReducer,\n    intl: intlReducer,\n    locales: localesReducer,\n});\n\n\nexport { rootReducer, defaultLocale };","import { createStore } from 'redux';\nimport { rootReducer, defaultLocale } from '../reducers';\n\n\nconst store = createStore(rootReducer, defaultLocale);\n\n\nexport default store;","import React from 'react';\nimport './locale-switcher.scss';\nimport { connect } from 'react-redux'\nimport { updateIntl } from 'react-intl-redux'\n\nimport store from '../../../store'\n\n\nconst LocaleSwitcher = connect(state => ({\n    currentLocale: state.intl.locale,\n    locales: state.locales,\n}))(({ currentLocale, locales }) => (\n\n    <select\n        value={currentLocale}\n        onChange={e =>\n            store.dispatch(\n                updateIntl({\n                    locale: e.target.value,\n                    messages: locales[e.target.value],\n                })\n            )\n        }\n    >\n        {Object.keys(locales).map(locale => (\n            <option key={locale}>{locale}</option>\n        ))}\n    </select>\n\n))\n\n\nexport default LocaleSwitcher;","import React from 'react';\nconst FirebaseContext = React.createContext(null);\n\nexport const withFirebase = Component => props => (\n  <FirebaseContext.Consumer>\n    {firebase => <Component {...props} firebase={firebase} />}\n  </FirebaseContext.Consumer>\n);\n\nexport default FirebaseContext;","import app from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\napp.initializeApp(config);\n\nclass Firebase {\n  constructor() {\n\n    /* Firebase APIs */\n    this.auth = app.auth();\n    this.db = app.firestore();\n\n    /* Social & Email Sign In Method Provider */\n    this.emailAuthProvider = app.auth.EmailAuthProvider;\n    this.googleProvider = new app.auth.GoogleAuthProvider();\n  }\n\n  \n\n  // *** Auth API ***\n  doCreateUserWithEmailAndPassword = (email, password) =>\n    this.auth.createUserWithEmailAndPassword(email, password);\n\n  doSendEmailVerification = () =>\n    this.auth.currentUser.sendEmailVerification({\n      url: process.env.REACT_APP_CONFIRMATION_EMAIL_REDIRECT,\n    });\n\n  doSignInWithEmailAndPassword = (email, password) =>\n    this.auth.signInWithEmailAndPassword(email, password);\n\n  doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\n\n  doPasswordUpdate = password =>\n    this.auth.currentUser.updatePassword(password);\n\n  doSignInWithGoogle = () =>\n    this.auth.signInWithPopup(this.googleProvider);\n  \n  doSignOut = () => this.auth.signOut();\n\n  \n  // *** Merge Auth and DB User API *** //\n  onAuthUserListener = (next, fallback) =>\n  this.auth.onAuthStateChanged(authUser => {\n    if (authUser) {\n      this.user(authUser.uid)\n        .get()\n        .then(snapshot => {\n          const dbUser = snapshot.data();\n          // default empty roles\n          if (!dbUser.roles) {\n            dbUser.roles = {};\n          }\n          // merge auth and db user\n          authUser = {\n            uid: authUser.uid,\n            email: authUser.email,\n            emailVerified: authUser.emailVerified,\n            providerData: authUser.providerData,\n            ...dbUser,\n          };\n          next(authUser);\n        });\n    } else {\n      fallback();\n    }\n  });\n\n  \n  // *** User API ***\n  user = uid => this.db.doc(`users/${uid}`);\n  users = () => this.db.collection('users');\n\n\n  listing = uid => this.db.doc(`listings/${uid}`);\n  listings = () => this.db.collection('listings');\n}\n\n\nexport default Firebase;","import FirebaseContext, { withFirebase } from './context';\nimport Firebase from './firebase';\n\nexport default Firebase;\nexport { FirebaseContext, withFirebase };","import React from 'react';\nimport { withFirebase } from '../firebase';\n\nimport Button from 'react-bootstrap/Button'\n\nconst SignOutButton = ({ firebase }) => (\n  <Button variant=\"secondary\" type=\"button\" onClick={firebase.doSignOut}>\n    Sign Out\n  </Button>\n);\n\nexport default withFirebase(SignOutButton);","export const LANDING = '/';\nexport const LISTINGS = '/listings';\nexport const LISTING_DETAILS = '/listings/:id';\nexport const ADD_NEW_LISTING = '/create-new-listing';\nexport const SIGN_UP = '/signup';\nexport const SIGN_IN = '/signin';\nexport const HOME = '/home';\nexport const ACCOUNT = '/account';\nexport const ADMIN = '/admin';\nexport const ADMIN_DETAILS = '/admin/:id';\nexport const PASSWORD_FORGET = '/forgot-password';\n","export const ADMIN = 'ADMIN';","import React from 'react';\nimport { connect } from 'react-redux';\nimport './navigation.scss';\nimport {//FormattedMessage, \n   FormattedHTMLMessage} from 'react-intl';\nimport LocaleSwitcher from '../locale-switcher'\n\nimport { LinkContainer } from 'react-router-bootstrap'\nimport Navbar from 'react-bootstrap/Navbar'\nimport Nav from 'react-bootstrap/Nav'\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container'\n\nimport SignOutButton from '../../sign-out';\nimport * as ROUTES from '../../../routes/routes.js';\nimport * as ROLES from '../../../utils/roles';\n\n\n\nconst Navigation = ({ authUser }) => \n  authUser ? (\n    <NavigationAuth authUser={authUser} />\n  ) : (\n    <NavigationNonAuth />\n  );\n\n\n\nconst NavigationAuth = ({ authUser }) => (\n  <Navbar fixed=\"top\" expand=\"lg\" bg=\"light\">\n    <Container className=\"navbar-container\">\n      <LinkContainer to={ROUTES.LANDING}>\n        <Navbar.Brand>\n          <FormattedHTMLMessage id=\"navbar.brand\" defaultMessage=\"Test-Project\" description=\"Brand name in header Navbar\"/>\n        </Navbar.Brand>\n      </LinkContainer>\n      <Navbar.Toggle />\n      <Navbar.Collapse className=\"justify-content-end\">\n        <Nav>\n          <LinkContainer to={ROUTES.LANDING}>\n            <Nav.Link>Landing</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to={ROUTES.HOME}>\n            <Nav.Link>Home</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to={ROUTES.ACCOUNT}>\n            <Nav.Link>Account</Nav.Link>\n          </LinkContainer>\n          {!!authUser.roles[ROLES.ADMIN] && (\n            <LinkContainer to={ROUTES.ADMIN}>\n              <Nav.Link>Admin</Nav.Link>\n            </LinkContainer>\n          )}\n          <SignOutButton />\n          <LinkContainer to={ROUTES.ADD_NEW_LISTING}>\n            <Button variant=\"success\">Post a Project</Button>\n          </LinkContainer>        \n        </Nav>\n        <LocaleSwitcher />\n      </Navbar.Collapse>\n    </Container>\n  </Navbar>\n);\n\nconst NavigationNonAuth = () => (\n  <Navbar fixed=\"top\" expand=\"lg\" bg=\"light\">\n    <Container className=\"navbar-container\">\n      <LinkContainer to={ROUTES.LANDING}>\n        <Navbar.Brand>\n          <FormattedHTMLMessage id=\"navbar.brand\" defaultMessage=\"Test-Project\" description=\"Brand name in header Navbar\"/>\n        </Navbar.Brand>\n      </LinkContainer>\n      <Navbar.Toggle />\n      <Navbar.Collapse className=\"justify-content-end\">\n        <Nav>\n          <LinkContainer to={ROUTES.LANDING}>\n            <Nav.Link>Landing</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to={ROUTES.SIGN_IN}>\n            <Nav.Link>Sign In</Nav.Link>\n          </LinkContainer>\n          <LinkContainer to={ROUTES.ADD_NEW_LISTING}>\n            <Button variant=\"success\">Post a Project</Button>\n          </LinkContainer>\n        </Nav>\n        <LocaleSwitcher />\n      </Navbar.Collapse>\n    </Container>\n  </Navbar>\n);\n\n\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser,\n});\nexport default connect(mapStateToProps)(Navigation);","import React from 'react';\nimport './footer.scss';\n\nimport Navbar from 'react-bootstrap/Navbar';\nimport Container from 'react-bootstrap/Container';\nimport Nav from 'react-bootstrap/Nav';\n\nimport { LinkContainer } from 'react-router-bootstrap'\nimport * as ROUTES from '../../../routes/routes.js';\n\nconst Footer = () => (\n        <Navbar className=\"app-container footer\" sticky=\"bottom\">\n            <Container className=\"navbar-container\">\n                <Nav>Test-Project</Nav>\n                <Nav>\n                    <LinkContainer to={ROUTES.LANDING}>\n                        <Nav.Link>Landing</Nav.Link>\n                    </LinkContainer>\n                    <LinkContainer to={ROUTES.SIGN_IN}>\n                        <Nav.Link>Sign In</Nav.Link>\n                    </LinkContainer>\n                </Nav>\n            </Container>\n        </Navbar>\n);\n\nexport default Footer;","import React from 'react';\nimport './search.scss';\n\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Form from 'react-bootstrap/Form';\nimport Dropdown from 'react-bootstrap/Dropdown';\n\nimport { LinkContainer } from 'react-router-bootstrap'\nimport * as ROUTES from '../../../routes/routes.js';\n\n\nconst Search = () => (\n    <Card className=\"search-card\">\n        <Card.Img className=\"search-card-img\" src={require(\"./bg8v2_small.jpg\")} />\n        <Card.ImgOverlay>\n        <Container className=\"app-container\">\n            <Tabs defaultActiveKey=\"home\">\n            <Tab eventKey=\"home\" title=\"Listings\">\n                <Form>\n                <Form.Row>\n                    <Col sm={6} md={3}>\n                    <Dropdown className=\"full-width\">\n                        <Dropdown.Toggle variant=\"outline-secondary\">\n                        Any Category\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                        <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n                        <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n                        <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    </Col>\n                    <Col sm={6} md={4}>\n                    <Form.Control placeholder=\"Job description\" />\n                    </Col>\n                    <Col sm={6} md={3}>\n                    <Dropdown className=\"full-width\">\n                        <Dropdown.Toggle variant=\"outline-secondary\">\n                        Any Category\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                        <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n                        <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n                        <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    </Col>\n                    <Col sm={6} md={2}>\n                        <LinkContainer to={ROUTES.LISTINGS}>\n                            <Button className=\"full-width\" variant=\"success\">Search</Button>\n                        </LinkContainer>\n                    </Col>\n                </Form.Row>\n                </Form>\n            </Tab>\n            <Tab eventKey=\"profile\" title=\"Hinna kalkulatsioon\">\n                <p>Hinna kalkulatsioon</p>\n                <p>Rida</p>\n                <p>Rida</p>\n                <p>Rida</p>\n                <p>Rida</p>\n                <p>Rida</p>\n                <p>Viimane rida</p>\n            </Tab>\n            </Tabs>\n        </Container>\n        </Card.ImgOverlay>\n    </Card>\n);\n\nexport default Search;","import React, { Component } from 'react';\nimport './items-carousel.scss';\n\nimport { withFirebase } from '../../firebase';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport Slider from \"react-slick\";\n\nimport {\n  Link\n} from \"react-router-dom\";\nimport { LinkContainer } from 'react-router-bootstrap'\nimport * as ROUTES from '../../../routes/routes.js';\n\nimport Card from 'react-bootstrap/Card';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Badge from 'react-bootstrap/Badge';\n\n\nclass ItemsCarousel extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            listings: [],\n        };\n    }\n\n    componentDidMount() {\n        this.setState({ loading: true });\n\n        this.unsubscribe = this.props.firebase\n        .listings()\n        .onSnapshot(snapshot => {\n            let listings = [];\n            snapshot.forEach(doc =>\n                listings.push({ ...doc.data() }),\n            );\n            this.setState({\n                listings,\n                loading: false,\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe();\n    }\n\n    render() {\n        var settings = {\n            dots: true,\n            infinite: true,\n            speed: 500,\n            slidesToShow: 4,\n            slidesToScroll: 4,\n            initialSlide: 0,\n            swipeToSlide: true,\n            responsive: [\n                {\n                    breakpoint: 1024,\n                    settings: {\n                        slidesToShow: 3,\n                        slidesToScroll: 3,\n                        infinite: true,\n                        dots: true\n                    }\n                },\n                {\n                    breakpoint: 600,\n                    settings: {\n                        slidesToShow: 2,\n                        slidesToScroll: 2,\n                        initialSlide: 2\n                    }\n                },\n                {\n                    breakpoint: 480,\n                    settings: {\n                        slidesToShow: 1,\n                        slidesToScroll: 1\n                    }\n                }\n            ]\n        };\n\n\n        const { listings, loading } = this.state;\n        const ListingsList = ({ listings }) => (\n            <Slider {...settings}>\n                {listings.map(listing => (\n                    <Card>\n                        <Carousel interval={null} fade={true}>\n                            <Carousel.Item>\n                                <img\n                                className=\"d-block w-100\"\n                                src={require(\"./placeholder-img.jpeg\")}\n                                alt=\"First slide\"\n                                />\n                                <Carousel.Caption>\n                                <p>First slide label</p>\n                                </Carousel.Caption>\n                            </Carousel.Item>\n                            <Carousel.Item>\n                                <img\n                                className=\"d-block w-100\"\n                                src={require(\"./placeholder-img.jpeg\")}\n                                alt=\"Third slide\"\n                                />\n                                <Carousel.Caption>\n                                <p>Second slide label</p>\n                                </Carousel.Caption>\n                            </Carousel.Item>\n                            <Carousel.Item>\n                                <img\n                                className=\"d-block w-100\"\n                                src={require(\"./placeholder-img.jpeg\")}\n                                alt=\"Third slide\"\n                                />\n                                <Carousel.Caption>\n                                <p>Third slide label</p>\n                                </Carousel.Caption>\n                            </Carousel.Item>\n                        </Carousel>\n                        <LinkContainer className=\"clickable\" to={`${ROUTES.LISTINGS}/${listing.uid}`}>\n                            <div>\n                                <Card.Body>\n                                    <Badge pill variant=\"primary\">Category 1</Badge>\n                                    <Badge pill variant=\"danger\">Category 2</Badge>\n                                    <Card.Title>{listing.title}</Card.Title>\n                                    <Card.Text>\n                                        <Row>\n                                        <Col><small>{listing.location}</small></Col>\n                                        <Col><small>5p, 11h</small></Col>\n                                        </Row>\n                                    </Card.Text>\n                                </Card.Body>\n                                <Card.Footer>\n                                    <Row className=\"price-avg\">\n                                        <Col><h5>4 468,75 €</h5></Col>\n                                    </Row>\n                                </Card.Footer>\n                            </div>\n                        </LinkContainer>\n                    </Card>\n                ))}\n            </Slider>\n        );\n\n\n        return (\n            <Container className=\"app-container section-wrapper items-carousel\">\n                <Row>\n                    <Col>\n                        <h4>Latest Listings</h4>\n                    </Col>\n                    <Col>\n                        <small><Link href=\"\">View all</Link></small>\n                    </Col>\n                </Row>\n\n                {loading && <div>Loading ...</div>}\n                <ListingsList listings={listings} />\n\n            </Container>\n        );\n    }\n}\n\n\nconst mapStateToProps = state => ({\n    listings: Object.keys(state.listingState.listings || {}).map(key => ({\n      ...state.listingState.listings[key],\n      uid: key,\n    })),\n  });\n  \n  const mapDispatchToProps = dispatch => ({\n    onSetListings: listings => dispatch({ type: 'LISTINGS_SET', listings }),\n  });\n  \n  export default compose(\n    withFirebase,\n    connect(\n      mapStateToProps,\n      mapDispatchToProps,\n    ),\n  )(ItemsCarousel);","import React from 'react';\nimport './landing.scss';\n\nimport Search from '../layouts/search';\nimport ItemsCarousel from '../layouts/items-carousel';\n\n\nconst LandingPage = () => (\n  <div>\n    <Search />\n\n    <ItemsCarousel />\n\n  </div>\n);\n\nexport default LandingPage;","import React from 'react';\nimport './search-filter.scss';\n\nimport Container from 'react-bootstrap/Container';\nimport Col from 'react-bootstrap/Col';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport Button from 'react-bootstrap/Button';\n\n\n\n// ************ //\n// Range Slider //\n// ************ //\nimport 'rc-slider/assets/index.css';\n//import 'rc-tooltip/assets/bootstrap.css';\nimport Slider from 'rc-slider';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nclass Rangeslider extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: [0, 75000],\n        };\n    }\n\n    render(){\n        return(\n            <div>\n            <Range min={0}\n                    max={100000}\n                    defaultValue={this.state.value}\n                    allowCross={false}\n                    onChange={value=>this.setState({value})} />\n            <span>{this.state.value[0]} €</span>  \n            <span style={{float:\"right\"}}>{this.state.value[1]} €</span>  \n            </div>\n        )\n    }\n}\n\n\n\nconst SearchFilter = () => (\n    <Col className=\"searchfilter-col\">\n    <Container className=\"searchfilter\">\n      <Accordion defaultActiveKey=\"0\">\n          <Accordion.Toggle as={Card.Header} eventKey=\"1\">\n            <h6>Ehitus (150)</h6>\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"1\">\n            <Form>\n              {['checkbox'].map(type => (\n                <div key={`category-${type}`} className=\"mb-3\">\n                  <Form.Check label=\"Siseviimistlus\" type={type} id={`category-${type}-1`} />\n                  <Form.Check label=\"Santehnilised tööd\" type={type} id={`category-${type}-2`} />\n                  <Form.Check /*disabled*/ label=\"Fassaaditööd\" type={type} id={`category-${type}-3`} />\n                  <Form.Check label=\"Maalritööd\" type={type} id={`category-${type}-4`} />\n                  <Form.Check label=\"Ehituskoristus\" type={type} id={`category-${type}-5`} />\n                </div>\n              ))}\n            </Form>\n          </Accordion.Collapse>\n          <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n            <h6>Only show</h6>\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"0\">\n            <Form>\n              {['checkbox'].map(type => (\n                <div key={`only-show-${type}`} className=\"mb-3\">\n                  <Form.Check label=\"Search titles only\" type={type} id={`only-show-${type}-1`} />\n                  <Form.Check label=\"Has image\" type={type} id={`only-show-${type}-2`} />\n                  <Form.Check disabled label=\"Posted today (disabled)\" type={type} id={`only-show-${type}-3`} />\n                  <Form.Check label=\"Ending today\" type={type} id={`only-show-${type}-4`} />\n                </div>\n              ))}\n            </Form>\n          </Accordion.Collapse>\n      </Accordion>\n      <div>\n        <h6>Price range</h6>\n        <hr/>\n        <Rangeslider />\n      </div>\n      <div>\n        <h6>Size (min/max)</h6>\n        <hr/>\n        <ButtonToolbar>\n          <ToggleButtonGroup type=\"checkbox\" defaultValue={[1]}>\n            <ToggleButton variant=\"outline-secondary\" value={1}>0-99 m2</ToggleButton>\n          </ToggleButtonGroup>\n          <ToggleButtonGroup type=\"checkbox\" defaultValue={[1]}>\n            <ToggleButton variant=\"outline-secondary\" value={1}>100-199 m2</ToggleButton>\n          </ToggleButtonGroup>\n          <ToggleButtonGroup type=\"checkbox\" defaultValue={[1]}>\n            <ToggleButton variant=\"outline-secondary\" value={1}>200 m2+</ToggleButton>\n          </ToggleButtonGroup>\n          <ToggleButtonGroup type=\"checkbox\" defaultValue={[1]}>\n            <ToggleButton variant=\"outline-secondary\" value={1}></ToggleButton>\n          </ToggleButtonGroup>\n        </ButtonToolbar>\n      </div>\n      <hr/>\n      <ButtonToolbar>\n        <Button variant=\"success\">Update</Button>\n        <Button variant=\"link\">Reset filter</Button>\n      </ButtonToolbar>\n    </Container>\n  </Col>\n);\n\nexport default SearchFilter;","import React, { Component } from 'react';\nimport './listings-list.scss';\n\nimport { withFirebase } from '../../firebase';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { LinkContainer } from 'react-router-bootstrap'\nimport * as ROUTES from '../../../routes/routes.js';\n\nimport Search from '../../layouts/search';\nimport SearchFilter from '../../layouts/search-filter';\n\n//import Locales from '../../utils/locales';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport Card from 'react-bootstrap/Card';\nimport Carousel from 'react-bootstrap/Carousel';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\n\n\n\nclass ListingsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n\n\n  componentDidMount() {\n\n    if (!this.props.listings.length) {\n      this.setState({ loading: true });\n    }\n\n    this.unsubscribe = this.props.firebase\n    .listings()\n    .onSnapshot(snapshot => {\n      let listings = [];\n\n      snapshot.forEach(doc =>\n        listings.push({ ...doc.data(), uid: doc.id }),\n      )\n\n      this.props.onSetListings(listings);\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n      this.unsubscribe();\n  }\n\n  render() {\n    const { listings } = this.props;\n    const { loading } = this.state;\n\n      const Listings = ({ listings }) => (\n\n        <div>\n\n          {listings.map(listing => (\n            <Card className=\"listings-card\">\n              <Carousel interval={null} fade={true}>\n                <Carousel.Item>\n                    <img\n                    className=\"d-block w-100\"\n                    src={require(\"./placeholder-img.jpeg\")}\n                    alt=\"First slide\"\n                    />\n                    <Carousel.Caption>\n                    <p>First slide label</p>\n                    </Carousel.Caption>\n                </Carousel.Item>\n                <Carousel.Item>\n                    <img\n                    className=\"d-block w-100\"\n                    src={require(\"./placeholder-img.jpeg\")}\n                    alt=\"Third slide\"\n                    />\n                    <Carousel.Caption>\n                    <p>Second slide label</p>\n                    </Carousel.Caption>\n                </Carousel.Item>\n                <Carousel.Item>\n                    <img\n                    className=\"d-block w-100\"\n                    src={require(\"./placeholder-img.jpeg\")}\n                    alt=\"Third slide\"\n                    />\n                    <Carousel.Caption>\n                    <p>Third slide label</p>\n                    </Carousel.Caption>\n                </Carousel.Item>\n              </Carousel>\n              <Card.Body>\n                <Row>\n                  <Col md={8}>\n                    <Badge pill variant=\"primary\">ID: 1: Ehitus</Badge>\n                    <Badge pill variant=\"danger\">Haljastus</Badge>\n                    <LinkContainer className=\"clickable\" to={`${ROUTES.LISTINGS}/${listing.uid}`}>\n\n\n                      <Card.Title>{listing.title}</Card.Title>\n                        \n                    </LinkContainer>\n                    <Card.Text>\n                      <Row>\n                        <Col><small>{listing.location}</small></Col>\n                        <Col><small>{listing.end_date}</small></Col>\n                        <Col><small>ID: {listing.uid}</small></Col>\n                      </Row>\n                      <Row>\n                        <Col>{listing.description}</Col>\n                      </Row>\n                    </Card.Text>\n                  </Col>\n                  <Col className=\"listings-item-footer\" md={4}>\n                    <Row>\n                      <Col>\n                        <h6>Roy S.</h6>\n                        <small>14 reviews</small>\n                        <p><small>kuvaks siia pildi asemel näiteks reitingut ja lemmikutesse lisamise võimalust</small></p>\n                      </Col>\n                    </Row>\n                    <Row className=\"make-an-offer\">\n                      <Col>\n                        <small>6 offers</small>\n                        <h5>4 468,75 €</h5>\n                        <LinkContainer className=\"clickable\" to={`${ROUTES.LISTINGS}/${listing.uid}`} >\n                          <Button variant=\"success\">Make an offer</Button>\n                        </LinkContainer>\n                      </Col>\n                    </Row>\n                  </Col>\n                </Row>\n              </Card.Body>\n            </Card>\n          ))}\n\n        </div>\n      );\n\n\n        return (\n          <div>\n            <Search />\n        \n            <Container className=\"app-container section-wrapper items-carousel\">\n              <Row className=\"justify-content-md-center\">\n        \n                <SearchFilter />\n        \n                <Col>\n                  <Row>\n                    <Col><h4>Showing <span className=\"results-number\">1,586</span> results</h4></Col>\n                    <Col>\n                      <ButtonToolbar className=\"float-right\">\n                        <Dropdown>\n                          <Dropdown.Toggle variant=\"link\">\n                            NEWEST\n                          </Dropdown.Toggle>\n                          <Dropdown.Menu>\n                            <Dropdown.Item href=\"#/action-1\">Newest</Dropdown.Item>\n                            <Dropdown.Item href=\"#/action-2\">Oldest</Dropdown.Item>\n                            <Dropdown.Item href=\"#/action-3\">Ending soon</Dropdown.Item>\n                          </Dropdown.Menu>\n                        </Dropdown>\n                        <Dropdown>\n                          <Dropdown.Toggle variant=\"link\">\n                            Layout (icon)\n                          </Dropdown.Toggle>\n                          <Dropdown.Menu>\n                            <Dropdown.Item href=\"#/action-1\">Layout1</Dropdown.Item>\n                            <Dropdown.Item href=\"#/action-2\">Layout2</Dropdown.Item>\n                          </Dropdown.Menu>\n                        </Dropdown>\n                      </ButtonToolbar>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col>\n                      <ButtonToolbar className=\"listings-ordering-filter\">\n                        <ToggleButtonGroup type=\"radio\" name=\"options\" defaultValue={1}>\n                          <ToggleButton variant=\"link\" value={1}>Top Picks</ToggleButton>\n                          <ToggleButton variant=\"link\" value={2}>Latest</ToggleButton>\n                          <ToggleButton variant=\"link\" value={3}>Ending soon</ToggleButton>\n                          <ToggleButton variant=\"link\" value={4}>Project price</ToggleButton>\n                        </ToggleButtonGroup>\n                      </ButtonToolbar>\n                    </Col>\n                  </Row>\n\n                  {loading && <div>Loading ...</div>}\n                  <Listings listings={listings} />\n\n                  </Col>\n                </Row>\n              </Container>\n\n            </div>\n        );\n\n\n\n    }\n}\n\n\nconst mapStateToProps = state => ({\n  listings: Object.keys(state.listingState.listings || {}).map(key => ({\n    ...state.listingState.listings[key],\n    uid: key,\n  })),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetListings: listings => dispatch({ type: 'LISTINGS_SET', listings }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(ListingsList);","import React from 'react';\nimport './make-offer-box.scss';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport ToggleButtonGroup from 'react-bootstrap/ToggleButtonGroup';\nimport ToggleButton from 'react-bootstrap/ToggleButton';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\n\n\nconst MakeOfferBox = () => (\n  <Col className=\"make-offer-box-col\">\n    <Container className=\"make-offer-box\">\n      <h4>Tee oma pakkumine</h4>\n      <small>Aega jäänud<span className=\"space-before\">6h 31m</span></small>\n      <Form>\n        <Form.Group controlId=\"formGroupOfferSum\">\n          <Form.Label><small>Summa</small></Form.Label>\n          <Form.Control type=\"email\" placeholder=\"EUR\" />\n        </Form.Group>\n        <Form.Group controlId=\"formGroupOfferFluxuation\">\n          <Form.Label><small>Hinnakõikumine</small></Form.Label>\n          <Form.Control type=\"password\" placeholder=\"%\" />\n        </Form.Group>\n        <small>Ettemaks</small>\n        <ButtonToolbar>\n          <ToggleButtonGroup type=\"radio\" name=\"options\" defaultValue={1}>\n            <ToggleButton value={0}>Yes</ToggleButton>\n            <ToggleButton value={1}>No</ToggleButton>\n          </ToggleButtonGroup>\n        </ButtonToolbar>\n        <small>Sisaldab käibemaksu</small>\n        <ButtonToolbar>\n          <ToggleButtonGroup type=\"radio\" name=\"options\" defaultValue={1}>\n            <ToggleButton value={0}>Yes</ToggleButton>\n            <ToggleButton value={1}>No</ToggleButton>\n          </ToggleButtonGroup>\n        </ButtonToolbar>\n        <Button variant=\"success\" size=\"lg\" block>\n          Tee pakkumine\n        </Button>\n\n      </Form>\n      <Jumbotron fluid>\n          <Container>\n            <Row>\n              <Col md=\"8\"><p className=\"gray-title\">Pakkumisi tehtud</p></Col>\n              <Col md=\"4\"><p className=\"left-bold\">1</p></Col>\n            </Row>\n            <Row>\n              <Col md=\"8\"><p className=\"gray-title\">Keskmine pakkumine</p></Col>\n              <Col md=\"4\"><p className=\"left-blue-bold\">2000 €</p></Col>\n            </Row>\n\n            <Button className=\"blue-bold\" variant=\"link\" block>Link</Button>\n          </Container>\n        </Jumbotron>\n    </Container>\n  </Col>\n);\n\nexport default MakeOfferBox;","import React, { Component } from 'react';\nimport './listing-item.scss';\n\nimport { withFirebase } from '../firebase';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport Search from '../layouts/search';\nimport MakeOfferBox from '../layouts/make-offer-box';\n\n//import Locales from '../../utils/locales';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\n\n\nclass ListingItem extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: false,\n        };\n    }\n\n    componentDidMount() {\n        if (!this.props.listing) {\n            this.setState({ loading: true });\n        }\n        this.unsubscribe = this.props.firebase\n            .listing(this.props.match.params.id)\n                .onSnapshot(snapshot => {\n                this.props.onSetListing(snapshot.data());\n\n                this.setState({\n                    loading: false,\n                });\n            });\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe && this.unsubscribe();\n    }\n\n    render() {\n        const { listing } = this.props;\n        const { loading } = this.state;\n\n        return (\n            <div>\n                <Search />\n\n                <Container className=\"app-container section-wrapper listing-item\">\n                    {loading && <div>Loading ...</div>}\n                    {listing && (\n                        <Row className=\"justify-content-md-center\">\n\n                            <Col>\n                                <Row>\n                                    <Col md=\"8\">\n                                        <h2>{listing.title}<FontAwesomeIcon className=\"add-to-favorites\" icon={['fas', 'heart']} /></h2>\n                                        <small>Listingu lõpp 5p, 11h</small>\n                                    </Col>\n                                    <Col md=\"4\">\n                                        <small>Roy S.</small>\n                                    </Col>\n                                </Row>\n                                <hr/>\n                                <Row>\n                                    <Col md=\"2\"><small>Location</small></Col>\n                                    <Col md=\"10\"><h6>{listing.location}</h6></Col>\n                                </Row>\n                                <Row>\n                                    <Col md=\"2\"><small>Tööde kestvus</small></Col>\n                                    <Col md=\"10\"><h6>{listing.work_start_date} - {listing.work_end_date}</h6></Col>\n                                </Row>\n                                <hr/>\n                                <Row>\n                                    <Col>\n                                        <h4>Description</h4>\n                                        {listing.description}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <h4>Related documents</h4>\n                                        <div className=\"document-item\">\n                                            <FontAwesomeIcon className=\"file-icon\" icon={['far', 'file-pdf']} />\n                                            <div><p>Document 1</p><small>Size 1.3mb</small></div>\n                                        </div>\n                                        <div className=\"document-item\">\n                                            <FontAwesomeIcon className=\"file-icon\" icon={['far', 'file-pdf']} />\n                                            <div><p>Document 1</p><small>Size 1.3mb</small></div>\n                                        </div>\n                                        <div className=\"document-item\">\n                                            <FontAwesomeIcon className=\"file-icon\" icon={['far', 'file-pdf']} />\n                                            <div><p>Document 1</p><small>Size 1.3mb</small></div>\n                                        </div>\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <h4>Location</h4>\n                                        <p style={{color: \"#767676\"}}>Exact location information is provided after a winnig confirmed</p>\n                                        <p>NB! Siin on asukoha täpsustav kirjeldus. Näiteks peale suutr puud kolmas maja paremal.</p>\n                                    </Col>\n                                </Row>\n                                \n\n                            </Col>\n\n                            <MakeOfferBox />\n\n                        </Row>\n                    )}\n                </Container>\n            </div>\n        );\n    }\n}\n\n\n\nconst mapStateToProps = (state, props) => ({\n    listing: (state.listingState.listings || {})[props.match.params.id],\n  });\n  \n  const mapDispatchToProps = dispatch => ({\n    onSetListing: (listing, uid) => dispatch({ type: 'LISTING_SET', listing, uid }),\n  });\n  \n  export default compose(\n    withFirebase,\n    connect(\n      mapStateToProps,\n      mapDispatchToProps,\n    ),\n  )(ListingItem);","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport './listings.scss';\n\nimport { withFirebase } from '../firebase';\nimport { compose } from 'recompose';\n\nimport * as ROUTES from '../../routes/routes.js';\n\nimport ListingsList from './listings-list';\nimport ListingItem from '../listing-item';\n\n\nconst Listings = () => (\n  <div>\n    <Switch>\n      <Route exact path={ROUTES.LISTING_DETAILS} component={ListingItem} />\n      <Route exact path={ROUTES.LISTINGS} component={ListingsList} />\n    </Switch>\n  </div>\n);\n\n\n\nexport default compose(\n  withFirebase,\n)(Listings);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../firebase';\n\nconst withAuthentication = Component => {\n  class WithAuthentication extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.props.onSetAuthUser(\n        JSON.parse(localStorage.getItem('authUser')),\n      );\n    }\n\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          localStorage.setItem('authUser', JSON.stringify(authUser));\n          this.props.onSetAuthUser(authUser);\n        },\n        () => {\n          localStorage.removeItem('authUser');\n          this.props.onSetAuthUser(null);\n        },\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return <Component {...this.props} />;\n    }\n  }\n\n\n  const mapDispatchToProps = dispatch => ({\n    onSetAuthUser: authUser =>\n      dispatch({ type: 'AUTH_USER_SET', authUser }),\n  });\n  return compose(\n    withFirebase,\n    connect(\n      null,\n      mapDispatchToProps,\n    ),\n  )(WithAuthentication);\n};\n\nexport default withAuthentication;","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../firebase';\nimport * as ROUTES from '../../routes/routes.js';\n\n\nconst withAuthorization = condition => Component => {\n  class WithAuthorization extends React.Component {\n    componentDidMount() {\n      this.listener = this.props.firebase.onAuthUserListener(\n        authUser => {\n          if (!condition(authUser)) {\n            this.props.history.push(ROUTES.SIGN_IN);\n          }\n        },\n        () => this.props.history.push(ROUTES.SIGN_IN),\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener();\n    }\n\n    render() {\n      return condition(this.props.authUser) ? (\n        <Component {...this.props} />\n      ) : null;\n    }\n  }\n\n  const mapStateToProps = state => ({\n    authUser: state.sessionState.authUser,\n  });\n\n  return compose(\n    withRouter,\n    withFirebase,\n    connect(mapStateToProps),\n  )(WithAuthorization);\n};\n\nexport default withAuthorization;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../firebase';\n\n\nconst needsEmailVerification = authUser =>\n  authUser &&\n  !authUser.emailVerified &&\n  authUser.providerData\n    .map(provider => provider.providerId)\n    .includes('password');\n\nconst withEmailVerification = Component => {\n  class WithEmailVerification extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { isSent: false };\n    }\n\n    onSendEmailVerification = () => {\n      this.props.firebase.doSendEmailVerification()\n      .then(() => this.setState({ isSent: true }));\n    }\n\n    render() {\n      return needsEmailVerification(this.props.authUser) ? (\n        <div>\n          {this.state.isSent ? (\n            <p>\n              E-Mail confirmation sent: Check you E-Mails (Spam\n              folder included) for a confirmation E-Mail.\n              Refresh this page once you confirmed your E-Mail.\n            </p>\n          ) : (\n            <p>\n              Verify your E-Mail: Check you E-Mails (Spam folder\n              included) for a confirmation E-Mail or send\n              another confirmation E-Mail.\n            </p>\n          )}\n          <button\n            type=\"button\"\n            onClick={this.onSendEmailVerification}\n            disabled={this.state.isSent}\n          >\n            Send confirmation E-Mail\n          </button>\n        </div>\n      ) : (\n        <Component {...this.props} />\n      );\n    }\n  }\n\n  const mapStateToProps = state => ({\n    authUser: state.sessionState.authUser,\n  });\n\n  return compose(\n    withFirebase,\n    connect(mapStateToProps),\n  )(WithEmailVerification);\n};\n\n\nexport default withEmailVerification;","import React, { Component } from \"react\";\nimport * as app from 'firebase';\n\nclass ImageUpload extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        image: null,\n        url: \"\",\n        progress: 0\n      };\n    }\n  \n   \n  \n    handleChange = e => {\n      if (e.target.files[0]) {\n        const image = e.target.files[0];\n        this.setState(() => ({ image }));\n      }\n    };\n  \n    handleUpload = () => {\n      const storage = app.storage();\n      const auth = app.auth();\n      const userUid = auth.currentUser.uid;\n\n      const { image } = this.state;\n      const uploadTask = storage.ref(`listings/${userUid}/${image.name}`).put(image);\n      uploadTask.on(\n        \"state_changed\",\n        snapshot => {\n          // progress function ...\n          const progress = Math.round(\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n          );\n          this.setState({ progress });\n        },\n        error => {\n          // Error function ...\n          console.log(error);\n        },\n        () => {\n          // complete function ...\n          storage\n            .ref(`listings/${userUid}`)\n            .child(image.name)\n            .getDownloadURL()\n            .then(url => {\n              this.setState({ url });\n            });\n        }\n      );\n    };\n    render() {\n      \n      return (\n        <div>\n            <input type=\"file\" onChange={this.handleChange} /><progress value={this.state.progress} max=\"100\" className=\"progress\" />\n            \n            <button\n            onClick={this.handleUpload}\n            className=\"waves-effect waves-light btn\"\n            >\n            Upload\n            </button>\n            <br />\n            <img\n            src={this.state.url || \"https://via.placeholder.com/400x300\"}\n            alt=\"Uploaded Images\"\n            height=\"150\"\n            width=\"200\"\n            />\n        </div>\n      );\n    }\n  }\n  \n  export default ImageUpload;","import React, { Component } from 'react';\nimport app from 'firebase/app';\nimport './add-new-listing.scss';\n\n\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport { withAuthorization, withEmailVerification } from '../session';\n\nimport ImageUpload from '../layouts/image-upload'\n\nimport Container from 'react-bootstrap/Container';\n\n\nclass AddNewListingPage extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            title: \"\",\n            categories: [],\n            location: \"\",\n            description: \"\",\n            date_created: \"\",\n            date_modified: \"\",\n            start_date: \"\",\n            end_date: \"\",\n            work_start_date: \"\",\n            work_end_date: \"\",\n            owner_name: \"\",\n            owner_pic_url: \"\",\n        };\n    }\n    \n\n    updateInput = e => {\n        this.setState({\n            [e.target.name]: e.target.value\n        });\n    }\n\n    addListing = e => {\n        e.preventDefault();\n        const db = app.firestore();\n        const auth = app.auth();\n        const userUid = auth.currentUser.uid;\n\n        db.settings({\n            timestampsInSnapshots: true\n        });\n        const userRef = db.collection(\"listings\").add({\n            title: this.state.title,\n            categories: [],\n            location: this.state.location,\n            description: this.state.description,\n            date_created: this.state.date_created,\n            date_modified: this.state.date_modified,\n            start_date: this.state.start_date,\n            end_date: this.state.end_date,\n            work_start_date: this.state.work_start_date,\n            work_end_date: this.state.work_end_date,\n            owner_id: userUid,\n            owner_name: this.state.owner_name,\n            owner_pic_url: this.state.owner_pic_url,\n        });\n\n        \n        this.setState({\n            title: \"\",\n            categories: [],\n            location: \"\",\n            description: \"\",\n            date_created: \"\",\n            date_modified: \"\",\n            start_date: \"\",\n            end_date: \"\",\n            work_start_date: \"\",\n            work_end_date: \"\",\n            owner_name: \"\",\n            owner_pic_url: \"\",\n        });\n    };\n\n    render() {\n        return (\n            <div>\n                <Container className=\"app-container section-wrapper add-new-listing\">\n                    <p>add new listing</p>\n                    <form onSubmit={this.addListing} >\n                        <label for=\"title\">Title:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            placeholder=\"Title\"\n                            onChange={this.updateInput}\n                            value={this.state.title}\n                        /><br/>\n                        <label for=\"location\">Location:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"location\"\n                            placeholder=\"Location\"\n                            onChange={this.updateInput}\n                            value={this.state.location}\n                        /><br/>\n                        <label for=\"description\">Description:&nbsp;&nbsp;</label>\n                        <textarea\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Description\"\n                            onChange={this.updateInput}\n                            value={this.state.description}\n                        /><br/>\n                        <label for=\"date_created\">Date created (filled automatically):&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"date_created\"\n                            placeholder=\"Date created (filled automatically)\"\n                            onChange={this.updateInput}\n                            value={this.state.date_created}\n                        /><br/>\n                        <label for=\"date_modified\">Date modified (filled automatically):&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"date_modified\"\n                            placeholder=\"Date modified (filled automatically)\"\n                            onChange={this.updateInput}\n                            value={this.state.date_modified}\n                        /><br/>\n                        <label for=\"start_date\">Active from date:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"start_date\"\n                            placeholder=\"Active from date\"\n                            onChange={this.updateInput}\n                            value={this.state.start_date}\n                        /><br/>\n                        <label for=\"end_date\">Expiration date:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"end_date\"\n                            placeholder=\"Expiration date\"\n                            onChange={this.updateInput}\n                            value={this.state.end_date}\n                        /><br/>\n                        <label for=\"work_start_date\">Work start date:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"work_start_date\"\n                            placeholder=\"Work start date\"\n                            onChange={this.updateInput}\n                            value={this.state.work_start_date}\n                        /><br/>\n                        <label for=\"work_end_date\">Work end date:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"work_end_date\"\n                            placeholder=\"Work end date\"\n                            onChange={this.updateInput}\n                            value={this.state.work_end_date}\n                        /><br/>\n                        {/* <label for=\"owner_id\">Owner ID:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"owner_id\"\n                            placeholder=\"Owner ID\"\n                            onChange={this.updateInput}\n                            value={this.state.owner_id}\n                        /><br/> */}\n                        <label for=\"owner_name\">Owner name:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"owner_name\"\n                            placeholder=\"Owner name\"\n                            onChange={this.updateInput}\n                            value={this.state.owner_name}\n                        /><br/>\n                        <label for=\"owner_pic_url\">Owner Picture URL:&nbsp;&nbsp;</label>\n                        <input\n                            type=\"text\"\n                            name=\"owner_pic_url\"\n                            placeholder=\"Owner Picture URL\"\n                            onChange={this.updateInput}\n                            value={this.state.owner_pic_url}\n                        /><br/>\n                        <ImageUpload/><br/><br/>\n                        <button type=\"submit\">Submit</button>\n                    </form>\n                </Container>\n            </div>\n        )\n    }\n}\n\n\n\nconst mapStateToProps = state => ({\n    authUser: state.sessionState.authUser,\n});\nconst condition = authUser => !!authUser;\nexport default compose(\n    connect(mapStateToProps),\n    withEmailVerification,\n    withAuthorization(condition),\n)(AddNewListingPage);","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../firebase';\nimport * as ROUTES from '../../routes/routes.js';\nimport * as ROLES from '../../utils/roles';\n\n\nconst SignUpPage = () => (\n  <div>\n    <h1>SignUp Page</h1>\n    <SignUpForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign-in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = {};\n\n    if (isAdmin) {\n      roles[ROLES.ADMIN] = ROLES.ADMIN;\n    }\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase\n          .user(authUser.user.uid)\n          .set({\n            username,\n            email,\n            roles,\n          },\n          { merge: true }\n        );\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      isAdmin,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n        />\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n        />\n        <label>\n          Admin:\n          <input\n            name=\"isAdmin\"\n            type=\"checkbox\"\n            checked={isAdmin}\n            onChange={this.onChangeCheckbox}\n          />\n        </label>\n        <button disabled={isInvalid} type=\"submit\">\n          Sign Up\n        </button>\n\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={ROUTES.SIGN_UP}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = compose(\n  withRouter,\n  withFirebase,\n)(SignUpFormBase);\n\nexport default SignUpPage;\nexport { SignUpForm, SignUpLink };","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withFirebase } from '../firebase';\nimport * as ROUTES from '../../routes/routes.js';\n\nconst PasswordForgetPage = () => (\n  <div>\n    <h1>PasswordForget</h1>\n    <PasswordForgetForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  email: '',\n  error: null,\n};\n\nclass PasswordForgetFormBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n  onSubmit = event => {\n    const { email } = this.state;\n    this.props.firebase\n      .doPasswordReset(email)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    const { email, error } = this.state;\n    const isInvalid = email === '';\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={this.state.email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Reset My Password\n        </button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst PasswordForgetLink = () => (\n  <p>\n    <Link to={ROUTES.PASSWORD_FORGET}>Forgot Password?</Link>\n  </p>\n);\n\nexport default PasswordForgetPage;\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { SignUpLink } from '../sign-up';\nimport { PasswordForgetLink } from '../password-forget';\nimport { withFirebase } from '../firebase';\nimport * as ROUTES from '../../routes/routes.js';\n\n\nconst SignInPage = () => (\n  <div>\n    <h1>SignIn</h1>\n    <SignInForm />\n    <SignInGoogle />\n    <PasswordForgetLink />\n    <SignUpLink />\n  </div>\n);\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/account-exists-with-different-credential';\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n`;\n\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n  onSubmit = event => {\n    const { email, password } = this.state;\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    const { email, password, error } = this.state;\n    const isInvalid = password === '' || email === '';\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign In\n        </button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null };\n  }\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase\n          .user(socialAuthUser.user.uid)\n          .set({\n            username: socialAuthUser.user.displayName,\n            email: socialAuthUser.user.email,\n            photoUrl: socialAuthUser.user.photoURL,\n            emailVerified: socialAuthUser.user.emailVerified,\n          },\n          { merge: true },\n          );\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n  render() {\n    const { error } = this.state;\n    return (\n      <form onSubmit={this.onSubmit}>\n        <button type=\"submit\">Sign In with Google</button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(\n  withRouter,\n  withFirebase,\n)(SignInFormBase);\n\nconst SignInGoogle = compose(\n  withRouter,\n  withFirebase,\n)(SignInGoogleBase);\n\n\nexport default SignInPage;\nexport { SignInForm, SignInGoogle };","import React from 'react';\nimport { compose } from 'recompose';\n\nimport { withAuthorization, withEmailVerification } from '../session';\n\n\nconst HomePage = () => (\n  <div>\n    <h1>Home Page</h1>\n    <p>The Home Page is accessible by every signed in user.</p>\n  </div>\n);\n\n\nconst condition = authUser => !!authUser;\n\nexport default compose(\n  withEmailVerification,\n  withAuthorization(condition),\n)(HomePage);","import React, { Component } from 'react';\nimport { withFirebase } from '../firebase';\n\nconst INITIAL_STATE = {\n  passwordOne: '',\n  passwordTwo: '',\n  error: null,\n};\n\nclass PasswordChangeForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { ...INITIAL_STATE };\n  }\n  onSubmit = event => {\n    const { passwordOne } = this.state;\n    this.props.firebase\n      .doPasswordUpdate(passwordOne)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n    event.preventDefault();\n  };\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    const { passwordOne, passwordTwo, error } = this.state;\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n    return (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Change Password\n        </button>\n        {error && <p>{error.message}</p>}\n      </form>\n    );\n  }\n}\n\nexport default withFirebase(PasswordChangeForm);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withAuthorization, withEmailVerification } from '../session';\nimport { withFirebase } from '../firebase';\nimport PasswordChangeForm from '../password-change';\n\n\nconst SIGN_IN_METHODS = [\n  {\n    id: 'password',\n    provider: null,\n  },\n  {\n    id: 'google.com',\n    provider: 'googleProvider',\n  },\n  {\n    id: 'facebook.com',\n    provider: 'facebookProvider',\n  },\n];\n\nconst AccountPage = ({ authUser }) => (\n  <div>\n    <h1>Account: {authUser.email}</h1>\n    <PasswordChangeForm />\n    <LoginManagement authUser={authUser} />\n  </div>\n);\n\n\nclass LoginManagementBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeSignInMethods: [],\n      error: null,\n    };\n  }\n\n  componentDidMount() {\n    this.fetchSignInMethods();\n  }\n\n  fetchSignInMethods = () => {\n    this.props.firebase.auth\n      .fetchSignInMethodsForEmail(this.props.authUser.email)\n      .then(activeSignInMethods =>\n        this.setState({ activeSignInMethods, error: null }),\n      )\n      .catch(error => this.setState({ error }));\n  };\n\n  onSocialLoginLink = provider => {\n    this.props.firebase.auth.currentUser\n      .linkWithPopup(this.props.firebase[provider])\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  onUnlink = providerId => {\n    this.props.firebase.auth.currentUser\n      .unlink(providerId)\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  onDefaultLoginLink = password => {\n    const credential = this.props.firebase.emailAuthProvider.credential(\n      this.props.authUser.email,\n      password,\n    );\n    this.props.firebase.auth.currentUser\n      .linkAndRetrieveDataWithCredential(credential)\n      .then(this.fetchSignInMethods)\n      .catch(error => this.setState({ error }));\n  };\n\n  render() {\n    const { activeSignInMethods, error } = this.state;\n\n    return (\n      <div>\n        Sign In Methods:\n        <ul>\n          {SIGN_IN_METHODS.map(signInMethod => {\n            const onlyOneLeft = activeSignInMethods.length === 1;\n            const isEnabled = activeSignInMethods.includes(\n              signInMethod.id,\n            );\n\n            return (\n              <li key={signInMethod.id}>\n                {signInMethod.id === 'password' ? (\n                  <DefaultLoginToggle\n                    onlyOneLeft={onlyOneLeft}\n                    isEnabled={isEnabled}\n                    signInMethod={signInMethod}\n                    onLink={this.onDefaultLoginLink}\n                    onUnlink={this.onUnlink}\n                  />\n                ) : (\n                  <SocialLoginToggle\n                    onlyOneLeft={onlyOneLeft}\n                    isEnabled={isEnabled}\n                    signInMethod={signInMethod}\n                    onLink={this.onSocialLoginLink}\n                    onUnlink={this.onUnlink}\n                  />\n                )}\n              </li>\n            );\n          })}\n        </ul>\n        {error && error.message}\n      </div>\n    );\n  }\n}\n\nconst SocialLoginToggle = ({\n  onlyOneLeft,\n  isEnabled,\n  signInMethod,\n  onLink,\n  onUnlink,\n}) =>\n  isEnabled ? (\n    <button\n      type=\"button\"\n      onClick={() => onUnlink(signInMethod.id)}\n      disabled={onlyOneLeft}\n    >\n      Deactivate {signInMethod.id}\n    </button>\n  ) : (\n    <button\n      type=\"button\"\n      onClick={() => onLink(signInMethod.provider)}\n    >\n      Link {signInMethod.id}\n    </button>\n  );\n\n\n\nclass DefaultLoginToggle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { passwordOne: '', passwordTwo: '' };\n  }\n  onSubmit = event => {\n    event.preventDefault();\n    this.props.onLink(this.state.passwordOne);\n    this.setState({ passwordOne: '', passwordTwo: '' });\n  };\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  render() {\n    const {\n      onlyOneLeft,\n      isEnabled,\n      signInMethod,\n      onUnlink,\n    } = this.props;\n    const { passwordOne, passwordTwo } = this.state;\n    const isInvalid =\n      passwordOne !== passwordTwo || passwordOne === '';\n    return isEnabled ? (\n      <button\n        type=\"button\"\n        onClick={() => onUnlink(signInMethod.id)}\n        disabled={onlyOneLeft}\n      >\n        Deactivate {signInMethod.id}\n      </button>\n    ) : (\n      <form onSubmit={this.onSubmit}>\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"New Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm New Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Set {signInMethod.id}\n        </button>\n      </form>\n    );\n  }\n}\n\n\nconst LoginManagement = withFirebase(LoginManagementBase);\nconst condition = authUser => !!authUser;\nconst mapStateToProps = state => ({\n  authUser: state.sessionState.authUser,\n});\n\nexport default compose(\n  connect(mapStateToProps),\n  withEmailVerification,\n  withAuthorization(condition),\n)(AccountPage);","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../../firebase';\nimport * as ROUTES from '../../../routes/routes';\n\nclass UserList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n//      users: [],\n    };\n  }\n\n  componentDidMount() {\n\n    if (!this.props.users.length) {\n      this.setState({ loading: true });\n    }\n\n    this.unsubscribe = this.props.firebase\n    .users()\n    .onSnapshot(snapshot => {\n      let users = [];\n\n      snapshot.forEach(doc =>\n        users.push({ ...doc.data(), uid: doc.id }),\n      )\n\n      this.props.onSetUsers(users);\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe();\n  }\n\n  render() {\n    const { users } = this.props;\n    const { loading } = this.state;\n    \n    return (\n      <div>\n        <h2>Users</h2>\n        {loading && <div>Loading ...</div>}\n        <ul>\n          {users.map(user => (\n            <li key={user.uid}>\n              <span>\n                <strong>ID:</strong> {user.uid}\n              </span>\n              <span>\n                <strong>E-Mail:</strong> {user.email}\n              </span>\n              <span>\n                <strong>Username:</strong> {user.username}\n              </span>\n              <span>\n                <Link to={`${ROUTES.ADMIN}/${user.uid}`}>\n                  Details\n                </Link>\n              </span>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  users: Object.keys(state.userState.users || {}).map(key => ({\n    ...state.userState.users[key],\n    uid: key,\n  })),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUsers: users => dispatch({ type: 'USERS_SET', users }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(UserList);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\n\nimport { withFirebase } from '../../firebase';\n\nclass UserItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.user) {\n      this.setState({ loading: true });\n    }\n    this.unsubscribe = this.props.firebase\n      .user(this.props.match.params.id)\n      .onSnapshot(snapshot => {\n        this.props.onSetUser(snapshot.data());\n\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribe && this.unsubscribe();\n  }\n\n  onSendPasswordResetEmail = () => {\n    this.props.firebase.doPasswordReset(this.props.user.email);\n  };\n\n  render() {\n    const { user } = this.props;\n    const { loading } = this.state;\n\n    return (\n      <div>\n        <h2>User ({this.props.match.params.id})</h2>\n        {loading && <div>Loading ...</div>}\n\n        {user && (\n          <div>\n            <span>\n              <strong>ID:</strong> {user.uid}\n            </span>\n            <span>\n              <strong>E-Mail:</strong> {user.email}\n            </span>\n            <span>\n              <strong>Username:</strong> {user.username}\n            </span>\n            <span>\n              <button\n                type=\"button\"\n                onClick={this.onSendPasswordResetEmail}\n              >\n                Send Password Reset\n              </button>\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  user: (state.userState.users || {})[props.match.params.id],\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSetUser: (user, uid) => dispatch({ type: 'USER_SET', user, uid }),\n});\n\nexport default compose(\n  withFirebase,\n  connect(\n    mapStateToProps,\n    mapDispatchToProps,\n  ),\n)(UserItem);","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { compose } from 'recompose';\n\nimport { withAuthorization, withEmailVerification } from '../session';\nimport { UserList, UserItem } from './users';\nimport * as ROLES from '../../utils/roles';\nimport * as ROUTES from '../../routes/routes';\n\nconst AdminPage = () => (\n  <div>\n    <h1>Admin</h1>\n    <p>The Admin Page is accessible by every signed in admin user.</p>\n\n    <Switch>\n      <Route exact path={ROUTES.ADMIN_DETAILS} component={UserItem} />\n      <Route exact path={ROUTES.ADMIN} component={UserList} />\n    </Switch>\n  </div>\n);\n\nconst condition = authUser =>\n  authUser && !!authUser.roles[ROLES.ADMIN];\n\nexport default compose(\n  withEmailVerification,\n  withAuthorization(condition),\n)(AdminPage);","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport './app.scss';\n\nimport store from '../../store';\nimport '@formatjs/intl-pluralrules/polyfill';\nimport '@formatjs/intl-pluralrules/dist/locale-data/en'; // locale-data for en\nimport '@formatjs/intl-pluralrules/dist/locale-data/et'; // locale-data for et\nimport '@formatjs/intl-pluralrules/dist/locale-data/ru'; // locale-data for ru\nimport '@formatjs/intl-relativetimeformat/polyfill';\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/en'; // Add locale data for en\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/et'; // Add locale data for et\nimport '@formatjs/intl-relativetimeformat/dist/locale-data/ru'; // Add locale data for ru\nimport et_translations from \"../../assets/translations/et.json\";\nimport en_translations from \"../../assets/translations/en.json\";\nimport ru_translations from \"../../assets/translations/ru.json\";\n\n\nimport Navigation from '../layouts/navigation';\nimport Footer from '../layouts/footer';\nimport LandingPage from '../landing';\nimport Listings from '../listings';\nimport AddNewListingPage from '../add-new-listing';\nimport SignUpPage from '../sign-up';\nimport SignInPage from '../sign-in';\nimport PasswordForgetPage from '../password-forget';\nimport HomePage from '../home';\nimport AccountPage from '../account';\nimport AdminPage from '../admin';\n\n \nimport * as ROUTES from '../../routes/routes.js';\nimport { withAuthentication } from '../session';\n\n// Font Awesome\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { far } from '@fortawesome/free-regular-svg-icons'\nlibrary.add(fab, fas, far)\n\n\n\nconst UPDATE_LOCALES = 'UPDATE_LOCALES'\n\nclass App extends React.Component {\n  handleLoadlLocales = () => {\n    store.dispatch({\n      type: UPDATE_LOCALES,\n      payload: {\n        et: et_translations,\n        en: en_translations,\n        ru: ru_translations,\n      },\n    })\n  }\n\n  componentDidMount() {\n    this.handleLoadlLocales();\n  }\n\n  render() {\n    return (\n      <Router className=\"app-router\">\n        <Navigation />\n          <Route exact path={ROUTES.LANDING} component={LandingPage} />\n          <Route path={ROUTES.SIGN_UP} component={SignUpPage} />\n          <Route path={ROUTES.SIGN_IN} component={SignInPage} />\n          <Route path={ROUTES.PASSWORD_FORGET} component={PasswordForgetPage} />\n          <Route path={ROUTES.LISTINGS} component={Listings} />\n          <Route path={ROUTES.ADD_NEW_LISTING} component={AddNewListingPage} />\n          <Route path={ROUTES.HOME} component={HomePage} />\n          <Route path={ROUTES.ACCOUNT} component={AccountPage} />\n          <Route path={ROUTES.ADMIN} component={AdminPage} />\n        <Footer />\n      </Router>\n    )\n  }\n    \n}\n\n\nexport default withAuthentication(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { IntlProvider } from 'react-intl-redux'\nimport { Provider } from 'react-redux';\n\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nimport store from './store';\nimport App from './components/app';\nimport Firebase, { FirebaseContext } from './components/firebase';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <IntlProvider>\n            <FirebaseContext.Provider value={new Firebase()}>\n                <App />\n            </FirebaseContext.Provider>\n        </IntlProvider>\n    </Provider>,\n    document.getElementById('root'),\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}